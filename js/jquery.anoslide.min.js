!function(){var a=function(a,c){this.slides=[],this.progress=!1,this.current=0,this.element=$(a),this.options=$.extend({items:5,speed:1e3,auto:0,autoStop:!0,next:"",prev:"",responsiveAt:480,delay:0,lazy:!1,onConstruct:function(a){},onStart:function(a){},onEnd:function(a){}},c),this.defaults={items:this.options.items,auto:0},this.preloader=new b,this.timeout=null};a.prototype={construct:function(){this.defaults.auto=this.options.auto,this.element.css({position:"relative",overflow:"hidden",display:"block"}).children().css({position:"absolute",cursor:"pointer",overflow:"hidden",display:"block"}).each(c(this,function(a,b){this.slides.push({element:$(b)})})).find("img").css({float:"left"}),$(window).on({resize:c(this,this.adapt)}),this.options.next&&$(this.options.next).on("click",c(this,this.next)),this.options.prev&&$(this.options.prev).on("click",c(this,this.prev)),this.options.autoStop&&this.element.parent().on({mouseenter:c(this,function(a){this.timeout&&(clearTimeout(this.timeout),this.options.auto=0)}),mouseleave:c(this,function(a){this.options.auto=this.defaults.auto,this.go(this.current)})}),this.options.onConstruct.apply(this,[this]),this.adapt().go(0)},preload:function(a,b){var c=[];if(this.options.lazy)for(i=a,l=a+this.options.items;i<l;i++)this.slides[i].element.find("img[data-src]").length&&c.push({source:this.slides[i].element.find("img[data-src]").data("src")});c.length?this.preloader.reset().append(c).preload(b):b.apply(this,[{images:[]}])},animate:function(a,b,d){if(!this.progress){this.progress=!0;({w:this.element.parent().outerWidth(),h:this.element.parent().outerHeight()});this.options.onStart.apply(this,[{instance:this,index:a,slide:this.slides[a]}]),$.each(d?this.slides.reverse():this.slides,c(this,function(e,f){var g=(d?-(a-(this.slides.length-1-e)):-(a-e))*this.element.width()/this.options.items;if(f.element.find("img[data-src]").length&&b.length)if(1==this.options.items){if(a==e){var h=b.pop().image;f.element.find("img[data-src]").replaceWith(h)}}else{var h=b.pop().image;f.element.find("img[data-src]").replaceWith(h)}var i=e==a?c(this,function(){this.progress=!1,this.options.onEnd.apply(this,[{instance:this,index:this.current,slide:this.slides[this.current]}]),this.options.auto&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(c(this,this.next),this.options.auto))}):function(){};f.element.css({width:Math.floor(this.element.outerWidth()/this.options.items)+"px",height:"auto"}).delay(e*this.options.delay).animate({left:g+"px"},this.options.speed,i)})),d&&this.slides.reverse(),this.element.animate({height:this.slides[a].element.outerHeight()-2});var e=this.slides.length-this.options.items-this.current;e?this.enable.next.call(this):this.disable.next.call(this),a-1<0?this.disable.prev.call(this):this.enable.prev.call(this)}return this},adapt:function(){var a={w:this.element.parent().outerWidth(),h:this.element.parent().outerHeight()};return a.w<this.options.responsiveAt?this.options.items=1:this.options.items=this.defaults.items,$.each(this.slides,c(this,function(a,b){var d=-(this.current-a)*this.element.width()/this.options.items;b.element.stop().css({width:this.element.width()/this.options.items,left:d},this.options.speed,a==this.slides.length-1?c(this,function(){this.progress=!1}):function(){})})),0!==this.slides[this.current].element.parent().height()&&this.element.css({height:this.slides[this.current].element.outerHeight()-2}),this},next:function(){var a=this.slides.length-this.options.items-this.current;a?this.go(this.current+1):this.go(0)},prev:function(){this.go(this.current-1,!0)},stop:function(){return this.timeout&&clearTimeout(this.timeout),this.progress=!1,this},go:function(a,b){if(b=b||!1,!this.progress){if(a<0||a>this.slides.length-1)return!1;this.current=a,this.preload(a,c(this,function(c){this.animate(a,c.images,b)}))}},enable:{next:function(){$(this.options.next).removeClass("disabled").fadeIn(300)},prev:function(){$(this.options.prev).removeClass("disabled").fadeIn(300)}},disable:{next:function(){$(this.options.next).addClass("disabled").fadeOut(300)},prev:function(){$(this.options.prev).addClass("disabled").fadeOut(300)}}};var b=function(){this.queue=[],this.images=[],this.total=0,this.config={cache:!0},this.time={start:0,end:0}};b.prototype={onComplete:function(a){},reset:function(){return this.queue=[],this.images=[],this.total=0,this},append:function(a){var b=this.queue;return $.each(a,function(a,c){b.push(c)}),this},finish:function(a,b,c){this.total--,$.each(this.images,function(a,d){d.index==b&&(d.size={width:c.width,height:c.height})}),0==this.total&&(this.time.end=(new Date).getTime(),this.onComplete.apply(this,[{time:((this.time.end-this.time.start)/1e3).toPrecision(2),images:this.images}]))},preload:function(a){for(this.onComplete=a||this.onComplete,this.time.start=(new Date).getTime(),this.total=i=this.queue.length;i--;){var b=new Image;this.images.push({index:i,image:b,size:{width:0,height:0}}),b.onload=b.onerror=b.onabort=c(this,this.finish,[i,b]),b.src=this.config.cache?this.queue[i].source:this.queue[i].source+"?u="+(new Date).getTime()}}},$.fn.anoSlide=function(b){return this.each(function(){if(void 0==$(this).data("anoSlide")){var c=new a(this,b).construct();$(this).data("anoSlide",c)}})};var c=function(a,b,c){return"function"==typeof b?function(){arguments.push=Array.prototype.push;for(var d in c)arguments.push(c[d]);return b.apply(a,arguments)}:function(){return!1}}}();